[ {
  "marshallScope" : 1
}, {
  "sf_detectorTemplate" : "CloudWatch - CPU Utilization % less than historical norm",
  "sf_description" : "This template creates a detector to issue a major alert if the last 5 minutes of cpu usage % is less than the norm for last 24 hours",
  "sf_type" : "DetectorTemplate",
  "sf_sourceSelectors" : [ "CPUUtilization" ],
  "sf_detectorTemplateSourceId" : "Ce5VqgvAAAI",
  "sf_detectorTemplateSource" : "{\"sf_organizationID\":\"BuStxseAAAA\",\"sf_detector\":\"CPU Utilization % less than norm Detector\",\"sf_uiModel\":{\"currentUniqueKey\":11,\"chartType\":\"line\",\"chartMode\":\"graph\",\"chartconfig\":{\"disableThrottle\":true,\"range\":900000,\"yAxisConfigurations\":[{\"name\":\"yAxis0\",\"id\":\"yAxis0\",\"max\":null,\"min\":null,\"plotlines\":{\"high\":null,\"low\":null}}],\"maxDelay\":0},\"revisionNumber\":1,\"allPlots\":[{\"name\":\"CPUUtilization - Timeshift 5m - P99(1d)\",\"type\":\"plot\",\"invisible\":true,\"transient\":false,\"dataManipulations\":[{\"fn\":{\"type\":\"TIMESHIFT\",\"options\":{\"milliseconds\":300000}},\"direction\":{\"type\":\"aggregation\",\"options\":{\"aggregateGroupBy\":[],\"collapseGroups\":false,\"transformTimeRange\":null}},\"showMe\":false},{\"fn\":{\"type\":\"PERCENTILE\",\"options\":{\"percentile\":99}},\"direction\":{\"type\":\"transformation\",\"options\":{\"unit\":\"d\",\"amount\":1,\"transformTimeRange\":\"1d\"}},\"showMe\":false}],\"yAxisIndex\":0,\"queryItems\":[],\"metricDefinition\":{},\"seriesData\":{\"metric\":\"CPUUtilization\",\"regExStyle\":null},\"uniqueKey\":1,\"focusNext\":false,\"configuration\":{\"rollupPolicy\":null}},{\"name\":\"CPUUtilization - Timeshift 5m - Mean + 3 STDDEV(1d)\",\"type\":\"plot\",\"invisible\":true,\"transient\":false,\"dataManipulations\":[{\"fn\":{\"type\":\"TIMESHIFT\",\"options\":{\"milliseconds\":300000}},\"direction\":{\"type\":\"aggregation\",\"options\":{\"aggregateGroupBy\":[],\"collapseGroups\":false,\"transformTimeRange\":null}},\"showMe\":false},{\"fn\":{\"type\":\"MEAN_STDDEV\",\"options\":{\"stddevcount\":3}},\"direction\":{\"type\":\"transformation\",\"options\":{\"unit\":\"d\",\"amount\":1,\"transformTimeRange\":\"1d\"}},\"showMe\":false}],\"yAxisIndex\":0,\"queryItems\":[],\"metricDefinition\":{},\"seriesData\":{\"metric\":\"CPUUtilization\",\"regExStyle\":null},\"uniqueKey\":2,\"focusNext\":false,\"configuration\":{\"rollupPolicy\":null}},{\"name\":\"A-B - Absolute Value\",\"type\":\"ratio\",\"invisible\":true,\"transient\":false,\"dataManipulations\":[{\"fn\":{\"type\":\"ABS\",\"options\":{}},\"direction\":{\"type\":\"aggregation\",\"options\":{\"aggregateGroupBy\":[],\"collapseGroups\":false,\"transformTimeRange\":null}},\"showMe\":false}],\"yAxisIndex\":0,\"queryItems\":[],\"metricDefinition\":{},\"seriesData\":{},\"uniqueKey\":3,\"focusNext\":false,\"valid\":true,\"expressionText\":\"A-B\"},{\"name\":\"(A+B-C)/2\",\"type\":\"ratio\",\"invisible\":true,\"transient\":false,\"dataManipulations\":[],\"yAxisIndex\":0,\"queryItems\":[],\"metricDefinition\":{},\"seriesData\":{},\"uniqueKey\":4,\"focusNext\":false,\"valid\":true,\"expressionText\":\"(A+B-C)/2\"},{\"name\":\"CPUUtilization - Maximum(5m)\",\"type\":\"plot\",\"invisible\":true,\"transient\":false,\"dataManipulations\":[{\"fn\":{\"type\":\"MAX\",\"options\":{}},\"direction\":{\"type\":\"transformation\",\"options\":{\"unit\":\"m\",\"amount\":5,\"transformTimeRange\":\"5m\"}},\"showMe\":false}],\"yAxisIndex\":0,\"queryItems\":[],\"metricDefinition\":{},\"seriesData\":{\"metric\":\"CPUUtilization\",\"regExStyle\":null},\"uniqueKey\":5,\"focusNext\":false,\"configuration\":{\"rollupPolicy\":null}},{\"name\":\"D-E\",\"type\":\"ratio\",\"invisible\":false,\"transient\":false,\"dataManipulations\":[],\"yAxisIndex\":0,\"queryItems\":[],\"metricDefinition\":{},\"seriesData\":{},\"uniqueKey\":7,\"focusNext\":false,\"valid\":true,\"expressionText\":\"D-E\"}],\"rules\":[{\"name\":\"cpu use % is less than historical norm\",\"uniqueKey\":9,\"jobResolution\":\"1 second\",\"duration\":\"1m\",\"severityLevel\":\"Major\",\"edit\":false,\"thresholdMode\":\"below\",\"triggerMode\":\"duration\",\"notifications\":[],\"invalid\":false,\"targetPlot\":\"G\",\"below\":0,\"above\":\"\",\"percentOfDuration\":100}],\"fromChart\":\"Ce5RuN-AEAw\",\"uiHelperValue\":\"Ce5VqgvAAAI_4\",\"selectedPlotId\":7},\"sf_jobMaxDelay\":0,\"sf_rules\":[{\"baseProgramText\":\"_SF_PLOT_KEY___OBJECT_ID___1_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___2_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___3_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___3_1_MACROBLOCK=[?A,?B,!OUT]{?A - ?B->!OUT};_SF_PLOT_KEY___OBJECT_ID___4_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___4_1_MACROBLOCK=[?A,?B,?C,!OUT]{(?A + ?B - ?C) / 2->!OUT};_SF_PLOT_KEY___OBJECT_ID___5_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___7_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___7_1_MACROBLOCK=[?D,?E,!OUT]{?D - ?E->!OUT};find(query='(sf_metric:CPUUtilization AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1,offset=-300000) -> split -> window(1d) -> stats:!p99 -> _SF_PLOT_KEY___OBJECT_ID___1_1;find(query='(sf_metric:CPUUtilization AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1,offset=-300000) -> split -> window(1d) -> _SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_1_INPUT=id;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_1_INPUT->stats:!stddev->_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_1_STDDEV=id;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_1_INPUT->stats:!mean->_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_1_MEAN=id;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_1_SUM=math;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_1_STDDEVPROD= math(b=3);_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_1_STDDEV->?a:_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_1_STDDEVPROD;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_1_STDDEVPROD:!product->?a:_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_1_SUM;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_1_MEAN->?b:_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_1_SUM;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_1_SUM:!sum -> _SF_PLOT_KEY___OBJECT_ID___2_1;_SF_PLOT_KEY___OBJECT_ID___3_1_MACROBLOCK:!OUT->{ abs(?in) -> !out }->_SF_PLOT_KEY___OBJECT_ID___3_1->publish(metric='_SF_PLOT_KEY___OBJECT_ID___3_1',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='__OBJECT_ID___1');_SF_PLOT_KEY___OBJECT_ID___1_1->?A:_SF_PLOT_KEY___OBJECT_ID___3_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___2_1->?B:_SF_PLOT_KEY___OBJECT_ID___3_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___4_1_MACROBLOCK:!OUT->_SF_PLOT_KEY___OBJECT_ID___4_1->publish(metric='_SF_PLOT_KEY___OBJECT_ID___4_1',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='__OBJECT_ID___1');_SF_PLOT_KEY___OBJECT_ID___1_1->?A:_SF_PLOT_KEY___OBJECT_ID___4_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___2_1->?B:_SF_PLOT_KEY___OBJECT_ID___4_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___3_1->?C:_SF_PLOT_KEY___OBJECT_ID___4_1_MACROBLOCK;find(query='(sf_metric:CPUUtilization AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1) -> split -> window(5m) -> stats:!max -> _SF_PLOT_KEY___OBJECT_ID___5_1;_SF_PLOT_KEY___OBJECT_ID___7_1_MACROBLOCK:!OUT->_SF_PLOT_KEY___OBJECT_ID___7_1->publish(metric='_SF_PLOT_KEY___OBJECT_ID___7_1',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='__OBJECT_ID___1');_SF_PLOT_KEY___OBJECT_ID___4_1->?D:_SF_PLOT_KEY___OBJECT_ID___7_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___5_1->?E:_SF_PLOT_KEY___OBJECT_ID___7_1_MACROBLOCK\",\"jobResolution\":1000,\"uniqueKey\":9,\"eventType\":\"_SF_PLOT_KEY___OBJECT_ID___9_1\",\"name\":\"cpu use % is less than historical norm\",\"readable\":\"\\\"D-E\\\" is below \\\"0\\\" for 1m\",\"severity\":\"Major\",\"notifications\":[]}],\"sf_programs\":[{\"programText\":\"_SF_PLOT_KEY_Ce5VqgvAAAI_1_6=id(report=1);_SF_PLOT_KEY_Ce5VqgvAAAI_2_6=id(report=1);_SF_PLOT_KEY_Ce5VqgvAAAI_3_6=id(report=1);_SF_PLOT_KEY_Ce5VqgvAAAI_3_6_MACROBLOCK=[?A,?B,!OUT]{?A - ?B->!OUT};_SF_PLOT_KEY_Ce5VqgvAAAI_4_6=id(report=1);_SF_PLOT_KEY_Ce5VqgvAAAI_4_6_MACROBLOCK=[?A,?B,?C,!OUT]{(?A + ?B - ?C) / 2->!OUT};_SF_PLOT_KEY_Ce5VqgvAAAI_5_6=id(report=1);_SF_PLOT_KEY_Ce5VqgvAAAI_7_6=id(report=1);_SF_PLOT_KEY_Ce5VqgvAAAI_7_6_MACROBLOCK=[?D,?E,!OUT]{?D - ?E->!OUT};find(query='(sf_metric:CPUUtilization AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1,offset=-300000) -> split -> window(1d) -> stats:!p99 -> _SF_PLOT_KEY_Ce5VqgvAAAI_1_6;find(query='(sf_metric:CPUUtilization AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1,offset=-300000) -> split -> window(1d) -> _SF_PLOT_KEY_Ce5VqgvAAAI_2_6_TEMP_VAR_1_INPUT=id;_SF_PLOT_KEY_Ce5VqgvAAAI_2_6_TEMP_VAR_1_INPUT->stats:!stddev->_SF_PLOT_KEY_Ce5VqgvAAAI_2_6_TEMP_VAR_1_STDDEV=id;_SF_PLOT_KEY_Ce5VqgvAAAI_2_6_TEMP_VAR_1_INPUT->stats:!mean->_SF_PLOT_KEY_Ce5VqgvAAAI_2_6_TEMP_VAR_1_MEAN=id;_SF_PLOT_KEY_Ce5VqgvAAAI_2_6_TEMP_VAR_1_SUM=math;_SF_PLOT_KEY_Ce5VqgvAAAI_2_6_TEMP_VAR_1_STDDEVPROD= math(b=3);_SF_PLOT_KEY_Ce5VqgvAAAI_2_6_TEMP_VAR_1_STDDEV->?a:_SF_PLOT_KEY_Ce5VqgvAAAI_2_6_TEMP_VAR_1_STDDEVPROD;_SF_PLOT_KEY_Ce5VqgvAAAI_2_6_TEMP_VAR_1_STDDEVPROD:!product->?a:_SF_PLOT_KEY_Ce5VqgvAAAI_2_6_TEMP_VAR_1_SUM;_SF_PLOT_KEY_Ce5VqgvAAAI_2_6_TEMP_VAR_1_MEAN->?b:_SF_PLOT_KEY_Ce5VqgvAAAI_2_6_TEMP_VAR_1_SUM;_SF_PLOT_KEY_Ce5VqgvAAAI_2_6_TEMP_VAR_1_SUM:!sum -> _SF_PLOT_KEY_Ce5VqgvAAAI_2_6;_SF_PLOT_KEY_Ce5VqgvAAAI_3_6_MACROBLOCK:!OUT->{ abs(?in) -> !out }->_SF_PLOT_KEY_Ce5VqgvAAAI_3_6->publish(metric='_SF_PLOT_KEY_Ce5VqgvAAAI_3_6',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='Ce5VqgvAAAI_6');_SF_PLOT_KEY_Ce5VqgvAAAI_1_6->?A:_SF_PLOT_KEY_Ce5VqgvAAAI_3_6_MACROBLOCK;_SF_PLOT_KEY_Ce5VqgvAAAI_2_6->?B:_SF_PLOT_KEY_Ce5VqgvAAAI_3_6_MACROBLOCK;_SF_PLOT_KEY_Ce5VqgvAAAI_4_6_MACROBLOCK:!OUT->_SF_PLOT_KEY_Ce5VqgvAAAI_4_6->publish(metric='_SF_PLOT_KEY_Ce5VqgvAAAI_4_6',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='Ce5VqgvAAAI_6');_SF_PLOT_KEY_Ce5VqgvAAAI_1_6->?A:_SF_PLOT_KEY_Ce5VqgvAAAI_4_6_MACROBLOCK;_SF_PLOT_KEY_Ce5VqgvAAAI_2_6->?B:_SF_PLOT_KEY_Ce5VqgvAAAI_4_6_MACROBLOCK;_SF_PLOT_KEY_Ce5VqgvAAAI_3_6->?C:_SF_PLOT_KEY_Ce5VqgvAAAI_4_6_MACROBLOCK;find(query='(sf_metric:CPUUtilization AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1) -> split -> window(5m) -> stats:!max -> _SF_PLOT_KEY_Ce5VqgvAAAI_5_6;_SF_PLOT_KEY_Ce5VqgvAAAI_7_6_MACROBLOCK:!OUT->_SF_PLOT_KEY_Ce5VqgvAAAI_7_6->publish(metric='_SF_PLOT_KEY_Ce5VqgvAAAI_7_6',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='Ce5VqgvAAAI_6');_SF_PLOT_KEY_Ce5VqgvAAAI_4_6->?D:_SF_PLOT_KEY_Ce5VqgvAAAI_7_6_MACROBLOCK;_SF_PLOT_KEY_Ce5VqgvAAAI_5_6->?E:_SF_PLOT_KEY_Ce5VqgvAAAI_7_6_MACROBLOCK;_SF_PLOT_KEY_Ce5VqgvAAAI_9_6=threshold(eventType='_SF_PLOT_KEY_Ce5VqgvAAAI_9_6', defaultSource='_SF_PLOT_KEY_Ce5VqgvAAAI_7_6', low=0, duration=60000, fractionOfDuration=1);_SF_PLOT_KEY_Ce5VqgvAAAI_7_6 -> _SF_PLOT_KEY_Ce5VqgvAAAI_9_6\",\"jobResolution\":1000}]}",
  "sf_detectorParameters" : "{\"Plot_C_Filters\":{\"name\":\"Plot_C_Filters\",\"description\":\"\",\"uniqueKey\":3,\"type\":\"Filters\"},\"Plot_D_Filters\":{\"name\":\"Plot_D_Filters\",\"description\":\"\",\"uniqueKey\":4,\"type\":\"Filters\"},\"Plot_G_Filters\":{\"name\":\"Plot_G_Filters\",\"description\":\"\",\"uniqueKey\":7,\"type\":\"Filters\"},\"Plot_A_Filters\":{\"name\":\"Plot_A_Filters\",\"description\":\"\",\"uniqueKey\":1,\"type\":\"Filters\"},\"Plot_E_Filters\":{\"name\":\"Plot_E_Filters\",\"description\":\"\",\"uniqueKey\":5,\"type\":\"Filters\"},\"Plot_B_Filters\":{\"name\":\"Plot_B_Filters\",\"description\":\"\",\"uniqueKey\":2,\"type\":\"Filters\"},\"Rule_1_Notifications\":{\"name\":\"Rule_1_Notifications\",\"description\":\"\",\"uniqueKey\":9,\"type\":\"RuleNotifications\"}}",
  "marshallId" : 1
} ]