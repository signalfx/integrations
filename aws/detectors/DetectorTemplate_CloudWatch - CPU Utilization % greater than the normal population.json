[ {
  "marshallScope" : 1
}, {
  "sf_detectorTemplate" : "CloudWatch - CPU Utilization % greater than the normal population",
  "sf_description" : "This template creates a detector to issue a major alert if the last minute of cpu usage % is greater than the norm population",
  "sf_type" : "DetectorTemplate",
  "sf_sourceSelectors" : [ "CPUUtilization" ],
  "sf_detectorTemplateSourceId" : "Ce5aXIgAAAg",
  "sf_detectorTemplateSource" : "{\"sf_organizationID\":\"BuStxseAAAA\",\"sf_detector\":\"Prebuilt_DT - CPU Utilization % greater than the normal population\",\"sf_uiModel\":{\"currentUniqueKey\":11,\"chartType\":\"line\",\"chartMode\":\"graph\",\"chartconfig\":{\"disableThrottle\":true,\"range\":900000,\"yAxisConfigurations\":[{\"name\":\"yAxis0\",\"id\":\"yAxis0\",\"max\":null,\"min\":null,\"plotlines\":{\"high\":null,\"low\":null}}]},\"revisionNumber\":1,\"allPlots\":[{\"yAxisIndex\":0,\"invisible\":false,\"focusNext\":false,\"transient\":false,\"seriesData\":{\"metric\":\"CPUUtilization\"},\"configuration\":{},\"queryItems\":[],\"dataManipulations\":[],\"uniqueKey\":1,\"type\":\"plot\",\"name\":\"CPUUtilization\"},{\"yAxisIndex\":0,\"invisible\":false,\"focusNext\":false,\"transient\":false,\"seriesData\":{\"metric\":\"CPUUtilization\"},\"configuration\":{},\"queryItems\":[],\"dataManipulations\":[{\"fn\":{\"type\":\"MEAN_STDDEV\",\"options\":{\"stddevcount\":3}},\"direction\":{\"type\":\"aggregation\",\"options\":{\"aggregateGroupBy\":[],\"collapseGroups\":false,\"transformTimeRange\":null}},\"showMe\":false}],\"uniqueKey\":2,\"type\":\"plot\",\"name\":\"CPUUtilization - Mean + 3 STDDEV\"},{\"yAxisIndex\":0,\"invisible\":false,\"focusNext\":false,\"transient\":false,\"seriesData\":{\"metric\":\"CPUUtilization\"},\"configuration\":{},\"queryItems\":[],\"dataManipulations\":[{\"fn\":{\"type\":\"COUNT\",\"options\":{}},\"direction\":{\"type\":\"aggregation\",\"options\":{\"aggregateGroupBy\":[],\"collapseGroups\":false,\"transformTimeRange\":null}},\"showMe\":false},{\"fn\":{\"type\":\"EXCLUDE\",\"options\":{\"mode\":\"below\",\"action\":\"drop\",\"low\":15}},\"direction\":{\"type\":\"aggregation\",\"options\":{\"aggregateGroupBy\":[],\"collapseGroups\":false,\"transformTimeRange\":null}},\"showMe\":false},{\"fn\":{\"type\":\"COUNT\",\"options\":{}},\"direction\":{\"type\":\"aggregation\",\"options\":{\"aggregateGroupBy\":[],\"collapseGroups\":false,\"transformTimeRange\":null}},\"showMe\":false}],\"uniqueKey\":3,\"type\":\"plot\",\"name\":\"CPUUtilization - Count - Exclude x < 15 - Count\"},{\"yAxisIndex\":0,\"invisible\":false,\"focusNext\":false,\"transient\":false,\"seriesData\":{\"metric\":\"CPUUtilization\"},\"configuration\":{},\"queryItems\":[],\"dataManipulations\":[{\"fn\":{\"type\":\"PERCENTILE\",\"options\":{\"percentile\":50}},\"direction\":{\"type\":\"aggregation\",\"options\":{\"aggregateGroupBy\":[],\"collapseGroups\":false,\"transformTimeRange\":null}},\"showMe\":false}],\"uniqueKey\":4,\"type\":\"plot\",\"name\":\"CPUUtilization - P50\"},{\"name\":\"A-D - Absolute Value - P50\",\"type\":\"ratio\",\"invisible\":false,\"transient\":false,\"dataManipulations\":[{\"fn\":{\"type\":\"ABS\",\"options\":{}},\"direction\":{\"type\":\"aggregation\",\"options\":{\"aggregateGroupBy\":[],\"collapseGroups\":false,\"transformTimeRange\":null}},\"showMe\":false},{\"fn\":{\"type\":\"PERCENTILE\",\"options\":{\"percentile\":50}},\"direction\":{\"type\":\"aggregation\",\"options\":{\"aggregateGroupBy\":[],\"collapseGroups\":false,\"transformTimeRange\":null}},\"showMe\":false}],\"yAxisIndex\":0,\"queryItems\":[],\"metricDefinition\":{},\"seriesData\":{},\"uniqueKey\":5,\"focusNext\":false,\"valid\":true,\"expressionText\":\"A-D\"},{\"name\":\"D+3*E\",\"type\":\"ratio\",\"invisible\":false,\"transient\":false,\"dataManipulations\":[],\"yAxisIndex\":0,\"queryItems\":[],\"metricDefinition\":{},\"seriesData\":{},\"uniqueKey\":6,\"focusNext\":false,\"valid\":true,\"expressionText\":\"D+3*E\"},{\"name\":\"B-F - Absolute Value\",\"type\":\"ratio\",\"invisible\":false,\"transient\":false,\"dataManipulations\":[{\"fn\":{\"type\":\"ABS\",\"options\":{}},\"direction\":{\"type\":\"aggregation\",\"options\":{\"aggregateGroupBy\":[],\"collapseGroups\":false,\"transformTimeRange\":null}},\"showMe\":false}],\"yAxisIndex\":0,\"queryItems\":[],\"metricDefinition\":{},\"seriesData\":{},\"uniqueKey\":7,\"focusNext\":false,\"valid\":true,\"expressionText\":\"B-F\"},{\"name\":\"((2-C)*F + C*B + C*G)/2\",\"type\":\"ratio\",\"invisible\":false,\"transient\":false,\"dataManipulations\":[],\"yAxisIndex\":0,\"queryItems\":[],\"metricDefinition\":{},\"seriesData\":{},\"uniqueKey\":8,\"focusNext\":false,\"valid\":true,\"expressionText\":\"((2-C)*F + C*B + C*G)/2\"}],\"rules\":[{\"name\":\"cpu use % greater than normal population\",\"uniqueKey\":10,\"jobResolution\":\"1 second\",\"duration\":\"1m\",\"severityLevel\":\"Major\",\"edit\":false,\"thresholdMode\":\"above\",\"triggerMode\":\"duration\",\"notifications\":[],\"invalid\":false,\"targetPlot\":\"A\",\"percentOfDuration\":100,\"above\":\"H\"}],\"fromChart\":\"Ce5MQ_rAAAA\",\"uiHelperValue\":\"__OBJECT_ID___2\",\"selectedPlotId\":1},\"sf_jobMaxDelay\":0,\"sf_rules\":[{\"baseProgramText\":\"_SF_PLOT_KEY___OBJECT_ID___1_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___2_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___3_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___4_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___5_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___5_1_MACROBLOCK=[?A,?D,!OUT]{?A - ?D->!OUT};_SF_PLOT_KEY___OBJECT_ID___6_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___6_1_MACROBLOCK=[?D,?E,!OUT]{?D + 3 * ?E->!OUT};_SF_PLOT_KEY___OBJECT_ID___7_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___7_1_MACROBLOCK=[?B,?F,!OUT]{?B - ?F->!OUT};_SF_PLOT_KEY___OBJECT_ID___8_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___8_1_MACROBLOCK=[?C,?F,?B,?G,!OUT]{((2 - ?C) * ?F  +  ?C * ?B  +  ?C * ?G) / 2->!OUT};find(query='(sf_metric:CPUUtilization AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1) -> split -> _SF_PLOT_KEY___OBJECT_ID___1_1;find(query='(sf_metric:CPUUtilization AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1) -> groupby() -> _SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_INPUT=id;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_INPUT->stats:!stddev->_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_STDDEV=id;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_INPUT->stats:!mean->_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_MEAN=id;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_SUM=math;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_STDDEVPROD= math(b=3);_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_STDDEV->?a:_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_STDDEVPROD;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_STDDEVPROD:!product->?a:_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_SUM;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_MEAN->?b:_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_SUM;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_SUM:!sum -> _SF_PLOT_KEY___OBJECT_ID___2_1;find(query='(sf_metric:CPUUtilization AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1) -> groupby() -> stats:!count -> {if ( ?in >= 15 ) { ?in -> !out }} -> stats:!count -> _SF_PLOT_KEY___OBJECT_ID___3_1;find(query='(sf_metric:CPUUtilization AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1) -> groupby() -> stats:!p50 -> _SF_PLOT_KEY___OBJECT_ID___4_1;_SF_PLOT_KEY___OBJECT_ID___5_1_MACROBLOCK:!OUT->{ abs(?in) -> !out }->groupby()->stats:!p50->_SF_PLOT_KEY___OBJECT_ID___5_1->publish(metric='_SF_PLOT_KEY___OBJECT_ID___5_1',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='__OBJECT_ID___1');_SF_PLOT_KEY___OBJECT_ID___1_1->?A:_SF_PLOT_KEY___OBJECT_ID___5_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___4_1->?D:_SF_PLOT_KEY___OBJECT_ID___5_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___6_1_MACROBLOCK:!OUT->_SF_PLOT_KEY___OBJECT_ID___6_1->publish(metric='_SF_PLOT_KEY___OBJECT_ID___6_1',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='__OBJECT_ID___1');_SF_PLOT_KEY___OBJECT_ID___4_1->?D:_SF_PLOT_KEY___OBJECT_ID___6_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___5_1->?E:_SF_PLOT_KEY___OBJECT_ID___6_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___7_1_MACROBLOCK:!OUT->{ abs(?in) -> !out }->_SF_PLOT_KEY___OBJECT_ID___7_1->publish(metric='_SF_PLOT_KEY___OBJECT_ID___7_1',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='__OBJECT_ID___1');_SF_PLOT_KEY___OBJECT_ID___2_1->?B:_SF_PLOT_KEY___OBJECT_ID___7_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___6_1->?F:_SF_PLOT_KEY___OBJECT_ID___7_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___8_1_MACROBLOCK:!OUT->_SF_PLOT_KEY___OBJECT_ID___8_1->publish(metric='_SF_PLOT_KEY___OBJECT_ID___8_1',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='__OBJECT_ID___1');_SF_PLOT_KEY___OBJECT_ID___3_1->?C:_SF_PLOT_KEY___OBJECT_ID___8_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___6_1->?F:_SF_PLOT_KEY___OBJECT_ID___8_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___2_1->?B:_SF_PLOT_KEY___OBJECT_ID___8_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___7_1->?G:_SF_PLOT_KEY___OBJECT_ID___8_1_MACROBLOCK\",\"jobResolution\":1000,\"uniqueKey\":10,\"eventType\":\"_SF_PLOT_KEY___OBJECT_ID___10_1\",\"name\":\"cpu use % greater than normal population\",\"readable\":\"\\\"CPUUtilization\\\" is above \\\"((2-C)*F + C*B + C*G)/2\\\" for 1m\",\"severity\":\"Major\",\"notifications\":[]}],\"sf_programs\":[{\"programText\":\"_SF_PLOT_KEY_Ce5aXIgAAAg_1_4=id(report=1);_SF_PLOT_KEY_Ce5aXIgAAAg_2_4=id(report=1);_SF_PLOT_KEY_Ce5aXIgAAAg_3_4=id(report=1);_SF_PLOT_KEY_Ce5aXIgAAAg_4_4=id(report=1);_SF_PLOT_KEY_Ce5aXIgAAAg_5_4=id(report=1);_SF_PLOT_KEY_Ce5aXIgAAAg_5_4_MACROBLOCK=[?A,?D,!OUT]{?A - ?D->!OUT};_SF_PLOT_KEY_Ce5aXIgAAAg_6_4=id(report=1);_SF_PLOT_KEY_Ce5aXIgAAAg_6_4_MACROBLOCK=[?D,?E,!OUT]{?D + 3 * ?E->!OUT};_SF_PLOT_KEY_Ce5aXIgAAAg_7_4=id(report=1);_SF_PLOT_KEY_Ce5aXIgAAAg_7_4_MACROBLOCK=[?B,?F,!OUT]{?B - ?F->!OUT};_SF_PLOT_KEY_Ce5aXIgAAAg_8_4=id(report=1);_SF_PLOT_KEY_Ce5aXIgAAAg_8_4_MACROBLOCK=[?C,?F,?B,?G,!OUT]{((2 - ?C) * ?F  +  ?C * ?B  +  ?C * ?G) / 2->!OUT};find(query='(sf_metric:CPUUtilization AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1) -> split -> _SF_PLOT_KEY_Ce5aXIgAAAg_1_4;find(query='(sf_metric:CPUUtilization AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1) -> groupby() -> _SF_PLOT_KEY_Ce5aXIgAAAg_2_4_TEMP_VAR_0_INPUT=id;_SF_PLOT_KEY_Ce5aXIgAAAg_2_4_TEMP_VAR_0_INPUT->stats:!stddev->_SF_PLOT_KEY_Ce5aXIgAAAg_2_4_TEMP_VAR_0_STDDEV=id;_SF_PLOT_KEY_Ce5aXIgAAAg_2_4_TEMP_VAR_0_INPUT->stats:!mean->_SF_PLOT_KEY_Ce5aXIgAAAg_2_4_TEMP_VAR_0_MEAN=id;_SF_PLOT_KEY_Ce5aXIgAAAg_2_4_TEMP_VAR_0_SUM=math;_SF_PLOT_KEY_Ce5aXIgAAAg_2_4_TEMP_VAR_0_STDDEVPROD= math(b=3);_SF_PLOT_KEY_Ce5aXIgAAAg_2_4_TEMP_VAR_0_STDDEV->?a:_SF_PLOT_KEY_Ce5aXIgAAAg_2_4_TEMP_VAR_0_STDDEVPROD;_SF_PLOT_KEY_Ce5aXIgAAAg_2_4_TEMP_VAR_0_STDDEVPROD:!product->?a:_SF_PLOT_KEY_Ce5aXIgAAAg_2_4_TEMP_VAR_0_SUM;_SF_PLOT_KEY_Ce5aXIgAAAg_2_4_TEMP_VAR_0_MEAN->?b:_SF_PLOT_KEY_Ce5aXIgAAAg_2_4_TEMP_VAR_0_SUM;_SF_PLOT_KEY_Ce5aXIgAAAg_2_4_TEMP_VAR_0_SUM:!sum -> _SF_PLOT_KEY_Ce5aXIgAAAg_2_4;find(query='(sf_metric:CPUUtilization AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1) -> groupby() -> stats:!count -> {if ( ?in >= 15 ) { ?in -> !out }} -> stats:!count -> _SF_PLOT_KEY_Ce5aXIgAAAg_3_4;find(query='(sf_metric:CPUUtilization AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1) -> groupby() -> stats:!p50 -> _SF_PLOT_KEY_Ce5aXIgAAAg_4_4;_SF_PLOT_KEY_Ce5aXIgAAAg_5_4_MACROBLOCK:!OUT->{ abs(?in) -> !out }->groupby()->stats:!p50->_SF_PLOT_KEY_Ce5aXIgAAAg_5_4->publish(metric='_SF_PLOT_KEY_Ce5aXIgAAAg_5_4',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='Ce5aXIgAAAg_4');_SF_PLOT_KEY_Ce5aXIgAAAg_1_4->?A:_SF_PLOT_KEY_Ce5aXIgAAAg_5_4_MACROBLOCK;_SF_PLOT_KEY_Ce5aXIgAAAg_4_4->?D:_SF_PLOT_KEY_Ce5aXIgAAAg_5_4_MACROBLOCK;_SF_PLOT_KEY_Ce5aXIgAAAg_6_4_MACROBLOCK:!OUT->_SF_PLOT_KEY_Ce5aXIgAAAg_6_4->publish(metric='_SF_PLOT_KEY_Ce5aXIgAAAg_6_4',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='Ce5aXIgAAAg_4');_SF_PLOT_KEY_Ce5aXIgAAAg_4_4->?D:_SF_PLOT_KEY_Ce5aXIgAAAg_6_4_MACROBLOCK;_SF_PLOT_KEY_Ce5aXIgAAAg_5_4->?E:_SF_PLOT_KEY_Ce5aXIgAAAg_6_4_MACROBLOCK;_SF_PLOT_KEY_Ce5aXIgAAAg_7_4_MACROBLOCK:!OUT->{ abs(?in) -> !out }->_SF_PLOT_KEY_Ce5aXIgAAAg_7_4->publish(metric='_SF_PLOT_KEY_Ce5aXIgAAAg_7_4',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='Ce5aXIgAAAg_4');_SF_PLOT_KEY_Ce5aXIgAAAg_2_4->?B:_SF_PLOT_KEY_Ce5aXIgAAAg_7_4_MACROBLOCK;_SF_PLOT_KEY_Ce5aXIgAAAg_6_4->?F:_SF_PLOT_KEY_Ce5aXIgAAAg_7_4_MACROBLOCK;_SF_PLOT_KEY_Ce5aXIgAAAg_8_4_MACROBLOCK:!OUT->_SF_PLOT_KEY_Ce5aXIgAAAg_8_4->publish(metric='_SF_PLOT_KEY_Ce5aXIgAAAg_8_4',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='Ce5aXIgAAAg_4');_SF_PLOT_KEY_Ce5aXIgAAAg_3_4->?C:_SF_PLOT_KEY_Ce5aXIgAAAg_8_4_MACROBLOCK;_SF_PLOT_KEY_Ce5aXIgAAAg_6_4->?F:_SF_PLOT_KEY_Ce5aXIgAAAg_8_4_MACROBLOCK;_SF_PLOT_KEY_Ce5aXIgAAAg_2_4->?B:_SF_PLOT_KEY_Ce5aXIgAAAg_8_4_MACROBLOCK;_SF_PLOT_KEY_Ce5aXIgAAAg_7_4->?G:_SF_PLOT_KEY_Ce5aXIgAAAg_8_4_MACROBLOCK;_SF_PLOT_KEY_Ce5aXIgAAAg_10_4=threshold(eventType='_SF_PLOT_KEY_Ce5aXIgAAAg_10_4', defaultSource='_SF_PLOT_KEY_Ce5aXIgAAAg_1_4', duration=60000, fractionOfDuration=1);_SF_PLOT_KEY_Ce5aXIgAAAg_1_4 -> _SF_PLOT_KEY_Ce5aXIgAAAg_10_4;_SF_PLOT_KEY_Ce5aXIgAAAg_8_4->?high:_SF_PLOT_KEY_Ce5aXIgAAAg_10_4\",\"jobResolution\":1000}]}",
  "sf_detectorParameters" : "{\"Plot_H_Filters\":{\"name\":\"Plot_H_Filters\",\"description\":\"\",\"uniqueKey\":8,\"type\":\"Filters\"},\"Plot_C_Filters\":{\"name\":\"Plot_C_Filters\",\"description\":\"\",\"uniqueKey\":3,\"type\":\"Filters\"},\"Plot_D_Filters\":{\"name\":\"Plot_D_Filters\",\"description\":\"\",\"uniqueKey\":4,\"type\":\"Filters\"},\"Plot_G_Filters\":{\"name\":\"Plot_G_Filters\",\"description\":\"\",\"uniqueKey\":7,\"type\":\"Filters\"},\"Plot_A_Filters\":{\"name\":\"Plot_A_Filters\",\"description\":\"\",\"uniqueKey\":1,\"type\":\"Filters\"},\"Plot_F_Filters\":{\"name\":\"Plot_F_Filters\",\"description\":\"\",\"uniqueKey\":6,\"type\":\"Filters\"},\"Plot_E_Filters\":{\"name\":\"Plot_E_Filters\",\"description\":\"\",\"uniqueKey\":5,\"type\":\"Filters\"},\"Plot_B_Filters\":{\"name\":\"Plot_B_Filters\",\"description\":\"\",\"uniqueKey\":2,\"type\":\"Filters\"},\"Rule_1_Notifications\":{\"name\":\"Rule_1_Notifications\",\"description\":\"\",\"uniqueKey\":10,\"type\":\"RuleNotifications\"}}",
  "marshallId" : 1
} ]