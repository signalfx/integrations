
<!--- Generated by to-integrations-repo script in Smart Agent repo, DO NOT MODIFY HERE --->
<!--- GENERATED BY gomplate from scripts/docs/templates/monitor-page.md.tmpl --->

# telegraf/win_perf_counters

Monitor Type: `telegraf/win_perf_counters` ([Source](https://github.com/signalfx/signalfx-agent/tree/main/pkg/monitors/telegraf/monitors/winperfcounters))

**Accepts Endpoints**: No

**Multiple Instances Allowed**: Yes

## Overview

This monitor reads Windows performance
counters

Sample YAML configuration:

```yaml
monitors:
 - type: telegraf/win_perf_counters
   printValid: true
   objects:
    - objectName: "Processor"
      instances:
       - "*"
      counters:
       - "% Idle Time"
       - "% Interrupt Time"
       - "% Privileged Time"
       - "% User Time"
       - "% Processor Time"
      includeTotal: true
      measurement: "win_cpu"
```


## Configuration

To activate this monitor in the Smart Agent, add the following to your
agent config:

```
monitors:  # All monitor config goes under this key
 - type: telegraf/win_perf_counters
   ...  # Additional config
```

**For a list of monitor options that are common to all monitors, see [Common
Configuration](../monitor-config.html#common-configuration).**


| Config option | Required | Type | Description |
| --- | --- | --- | --- |
| `objects` | no | `list of objects (see below)` |  |
| `counterRefreshInterval` | no | `int64` | The frequency that counter paths should be expanded and how often to refresh counters from configuration. This is expressed as a duration. (**default:** `5s`) |
| `useWildCardExpansion` | no | `bool` | If `true`, instance indexes will be included in instance names, and wildcards will be expanded and localized (if applicable).  If `false`, non partial wildcards will be expanded and instance names will not include instance indexes. (**default:** `false`) |
| `printValid` | no | `bool` | Print out the configurations that match available performance counters (**default:** `false`) |
| `pcrMetricNames` | no | `bool` | If `true`, metric names will be emitted in the format emitted by the SignalFx PerfCounterReporter (**default:** `false`) |


The **nested** `objects` config object has the following fields:

| Config option | Required | Type | Description |
| --- | --- | --- | --- |
| `objectName` | no | `string` | The name of a windows performance counter object |
| `counters` | no | `list of strings` | The name of the counters to collect from the performance counter object |
| `instances` | no | `list of strings` | The windows performance counter instances to fetch for the performance counter object |
| `measurement` | no | `string` | The name of the telegraf measurement that will be used as a metric name |
| `warnOnMissing` | no | `bool` | Log a warning if the perf counter object is missing (**default:** `false`) |
| `failOnMissing` | no | `bool` | Panic if the performance counter object is missing (this will stop the agent) (**default:** `false`) |
| `includeTotal` | no | `bool` | Include the total instance when collecting performance counter metrics (**default:** `false`) |



The agent does not do any built-in filtering of metrics coming out of this
monitor.


