
<!--- Generated by to-integrations-repo script in Smart Agent repo, DO NOT MODIFY HERE --->
<!--- GENERATED BY gomplate from scripts/docs/monitor-page.md.tmpl --->

# collectd/signalfx-metadata

Monitor Type: `collectd/signalfx-metadata` ([Source](https://github.com/signalfx/signalfx-agent/tree/master/internal/monitors/collectd/metadata))

**Accepts Endpoints**: No

**Multiple Instances Allowed**: **No**

## Overview

Collectd Python plugin that aggregates
various metrics from other collectd plugins.  It also sends host metadata to
SignalFx through specially formatted events, and sends active process
("top") lists on a periodic basis.

See [Python plugin code](https://github.com/signalfx/collectd-signalfx/) and
[Integrations docs](https://github.com/signalfx/integrations/tree/master/signalfx-metadata).


## Configuration

To activate this monitor in the Smart Agent, add the following to your
agent config:

```
monitors:  # All monitor config goes under this key
 - type: collectd/signalfx-metadata
   ...  # Additional config
```

**For a list of monitor options that are common to all monitors, see [Common
Configuration](../monitor-config.html#common-configuration).**


| Config option | Required | Type | Description |
| --- | --- | --- | --- |
| `writeServerURL` | no | `string` |  |
| `procFSPath` | no | `string` | (Deprecated) Please set the agent configuration `procPath` instead of this monitor configuration option. The path to the proc filesystem. Useful to override in containerized environments. |
| `etcPath` | no | `string` | (Deprecated) Please set the agent configuration `etcPath` instead of this monitor configuration option. The path to the main host config dir. Useful to override in containerized environments. |
| `perCoreCPUUtil` | no | `bool` | Collect the cpu utilization per core, reported as `cpu.utilization_per_core`. (**default:** `false`) |
| `persistencePath` | no | `string` | A directory where the metadata plugin can persist the history of successful host metadata syncs so that host metadata is not sent redundantly. (**default:** `/var/run/signalfx-agent`) |
| `omitProcessInfo` | no | `bool` | If true, process "top" information will not be sent.  This can be useful if you have an extremely high number of processes and performance of the plugin is poor. (**default:** `false`) |
| `dogStatsDPort` | no | `unsigned integer` | Set this to a non-zero value to enable the DogStatsD listener as part of this monitor.  The listener will accept metrics on the DogStatsD format, and sends them as SignalFx datapoints to our backend.  Setting to a value setting the `DogStatsDPort` to `0` will result in a random port assignment. **Note: The listener emits directly to SignalFx and will not be subject to filters configured with the SignalFx Smart Agent.  Internal stats about the SignalFx Smart Agent will not reflect datapoints set through the DogStatsD listener** |
| `token` | no | `string` | This is only required when running the DogStatsD listener.  Set this to your SignalFx access token. |
| `dogStatsDIP` | no | `string` | Optionally override the default ip that the DogStatsD listener listens on.  (**default**: "0.0.0.0") |
| `ingestEndpoint` | no | `string` | This is optional only used when running the DogStatsD listener. By default the DogStatsD listener will emit to SignalFx Ingest. (**default**: "https://ingest.signalfx.com") |
| `verbose` | no | `bool` | Set this to enable verbose logging from the monitor (**default:** `false`) |


## Metrics

These are the metrics available for this monitor.
Metrics that are categorized as
[container/host](https://docs.signalfx.com/en/latest/admin-guide/usage.html#about-custom-bundled-and-high-resolution-metrics)
(*default*) are ***in bold and italics*** in the list below.


 - ***`cpu.utilization`*** (*gauge*)<br>    Percent of CPU used on this host.
 - `cpu.utilization_per_core` (*gauge*)<br>    Percent of CPU used on each core. `perCoreCPUUtil` config must be set to true.
 - ***`disk.summary_utilization`*** (*gauge*)<br>    Percent of disk space utilized on all volumes on this host.
 - ***`disk.utilization`*** (*gauge*)<br>    Percent of disk used on this volume.
 - ***`disk_ops.total`*** (*cumulative*)<br>    Total number of disk read and write operations on this host.
 - ***`memory.utilization`*** (*gauge*)<br>    Percent of memory in use on this host.
 - ***`network.total`*** (*cumulative*)<br>    Total amount of inbound and outbound network traffic on this host, in bytes.

### Non-default metrics (version 4.7.0+)

**The following information applies to the agent version 4.7.0+ that has
`enableBuiltInFiltering: true` set on the top level of the agent config.**

To emit metrics that are not _default_, you can add those metrics in the
generic monitor-level `extraMetrics` config option.  Metrics that are derived
from specific configuration options that do not appear in the above list of
metrics do not need to be added to `extraMetrics`.

To see a list of metrics that will be emitted you can run `agent-status
monitors` after configuring this monitor in a running agent instance.

### Legacy non-default metrics (version < 4.7.0)

**The following information only applies to agent version older than 4.7.0. If
you have a newer agent and have set `enableBuiltInFiltering: true` at the top
level of your agent config, see the section above. See upgrade instructions in
[Old-style whitelist filtering](../legacy-filtering.html#old-style-whitelist-filtering).**

If you have a reference to the `whitelist.json` in your agent's top-level
`metricsToExclude` config option, and you want to emit metrics that are not in
that whitelist, then you need to add an item to the top-level
`metricsToInclude` config option to override that whitelist (see [Inclusion
filtering](../legacy-filtering.html#inclusion-filtering).  Or you can just
copy the whitelist.json, modify it, and reference that in `metricsToExclude`.



