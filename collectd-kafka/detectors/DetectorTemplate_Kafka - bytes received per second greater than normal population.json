[ {
  "marshallScope" : 1
}, {
  "sf_detectorTemplate" : "Kafka - bytes received per second greater than normal population",
  "sf_description" : "This template creates a detector to issue a major alert if the number of received bytes by kafka during last minute is greater than the norm population",
  "sf_type" : "DetectorTemplate",
  "sf_sourceSelectors" : [ "counter.kafka-bytes-in" ],
  "sf_detectorTemplateSourceId" : "CfMdgYTAIAA",
  "sf_detectorTemplateSource" : "{\"sf_organizationID\":\"BuStxseAAAA\",\"sf_detector\":\"Kafka bytes received per second greater than normal population Detector\",\"sf_uiModel\":{\"currentUniqueKey\":7,\"chartType\":\"line\",\"chartMode\":\"graph\",\"chartconfig\":{\"disableThrottle\":true,\"range\":900000,\"yAxisConfigurations\":[{\"name\":\"yAxis0\",\"id\":\"yAxis0\",\"max\":null,\"min\":null,\"plotlines\":{\"high\":null,\"low\":null}}]},\"revisionNumber\":1,\"allPlots\":[{\"name\":\"counter.kafka-bytes-in\",\"type\":\"plot\",\"invisible\":true,\"transient\":false,\"dataManipulations\":[],\"yAxisIndex\":0,\"queryItems\":[],\"metricDefinition\":{},\"seriesData\":{\"metric\":\"counter.kafka-bytes-in\",\"regExStyle\":null},\"uniqueKey\":1,\"focusNext\":false,\"configuration\":{\"rollupPolicy\":null}},{\"name\":\"counter.kafka-bytes-in - Mean + 3 STDDEV\",\"type\":\"plot\",\"invisible\":true,\"transient\":false,\"dataManipulations\":[{\"fn\":{\"type\":\"MEAN_STDDEV\",\"options\":{\"stddevcount\":3}},\"direction\":{\"type\":\"aggregation\",\"options\":{\"aggregateGroupBy\":[],\"collapseGroups\":false,\"transformTimeRange\":null}},\"showMe\":false}],\"yAxisIndex\":0,\"queryItems\":[],\"metricDefinition\":{},\"seriesData\":{\"metric\":\"counter.kafka-bytes-in\",\"regExStyle\":null},\"uniqueKey\":2,\"focusNext\":false,\"configuration\":{\"rollupPolicy\":null}},{\"name\":\"B - Maximum(1h)\",\"type\":\"ratio\",\"invisible\":true,\"transient\":false,\"dataManipulations\":[{\"fn\":{\"type\":\"MAX\",\"options\":{}},\"direction\":{\"type\":\"transformation\",\"options\":{\"unit\":\"h\",\"amount\":1,\"transformTimeRange\":\"1h\"}},\"showMe\":false}],\"yAxisIndex\":0,\"queryItems\":[],\"metricDefinition\":{},\"seriesData\":{},\"uniqueKey\":3,\"focusNext\":false,\"valid\":true,\"expressionText\":\"B\"},{\"name\":\"A-B\",\"type\":\"ratio\",\"invisible\":false,\"transient\":false,\"dataManipulations\":[],\"yAxisIndex\":0,\"queryItems\":[],\"metricDefinition\":{},\"seriesData\":{},\"uniqueKey\":4,\"focusNext\":false,\"valid\":true,\"expressionText\":\"A-B\"}],\"rules\":[{\"name\":\"bytes received greater than normal population\",\"uniqueKey\":6,\"jobResolution\":\"1 second\",\"duration\":\"1m\",\"severityLevel\":\"Major\",\"edit\":false,\"thresholdMode\":\"above\",\"triggerMode\":\"duration\",\"notifications\":[],\"invalid\":false,\"targetPlot\":\"D\",\"above\":\"0\",\"percentOfDuration\":100}],\"fromChart\":\"CfMa1rbAAAQ\",\"uiHelperValue\":\"__OBJECT_ID___2\",\"selectedPlotId\":4},\"sf_jobMaxDelay\":0,\"sf_rules\":[{\"baseProgramText\":\"_SF_PLOT_KEY___OBJECT_ID___1_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___2_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___3_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___3_1_MACROBLOCK=[?B,!OUT]{?B->!OUT};_SF_PLOT_KEY___OBJECT_ID___4_1=id(report=1);_SF_PLOT_KEY___OBJECT_ID___4_1_MACROBLOCK=[?A,?B,!OUT]{?A - ?B->!OUT};find(query='(sf_metric:counter.kafka\\\\\\\\-bytes\\\\\\\\-in AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1) -> split -> _SF_PLOT_KEY___OBJECT_ID___1_1;find(query='(sf_metric:counter.kafka\\\\\\\\-bytes\\\\\\\\-in AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1) -> groupby() -> _SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_INPUT=id;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_INPUT->stats:!stddev->_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_STDDEV=id;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_INPUT->stats:!mean->_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_MEAN=id;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_SUM=math;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_STDDEVPROD= math(b=3);_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_STDDEV->?a:_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_STDDEVPROD;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_STDDEVPROD:!product->?a:_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_SUM;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_MEAN->?b:_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_SUM;_SF_PLOT_KEY___OBJECT_ID___2_1_TEMP_VAR_0_SUM:!sum -> _SF_PLOT_KEY___OBJECT_ID___2_1;_SF_PLOT_KEY___OBJECT_ID___3_1_MACROBLOCK:!OUT->window(1h)->stats:!max->_SF_PLOT_KEY___OBJECT_ID___3_1->publish(metric='_SF_PLOT_KEY___OBJECT_ID___3_1',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='__OBJECT_ID___1');_SF_PLOT_KEY___OBJECT_ID___2_1->?B:_SF_PLOT_KEY___OBJECT_ID___3_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___4_1_MACROBLOCK:!OUT->_SF_PLOT_KEY___OBJECT_ID___4_1->publish(metric='_SF_PLOT_KEY___OBJECT_ID___4_1',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='__OBJECT_ID___1');_SF_PLOT_KEY___OBJECT_ID___1_1->?A:_SF_PLOT_KEY___OBJECT_ID___4_1_MACROBLOCK;_SF_PLOT_KEY___OBJECT_ID___2_1->?B:_SF_PLOT_KEY___OBJECT_ID___4_1_MACROBLOCK\",\"jobResolution\":1000,\"uniqueKey\":6,\"eventType\":\"_SF_PLOT_KEY___OBJECT_ID___6_1\",\"name\":\"bytes received greater than normal population\",\"readable\":\"\\\"A-B\\\" is above \\\"0\\\" for 1m\",\"severity\":\"Major\",\"notifications\":[]}],\"sf_programs\":[{\"programText\":\"_SF_PLOT_KEY_CfMdgYTAIAA_1_4=id(report=1);_SF_PLOT_KEY_CfMdgYTAIAA_2_4=id(report=1);_SF_PLOT_KEY_CfMdgYTAIAA_3_4=id(report=1);_SF_PLOT_KEY_CfMdgYTAIAA_3_4_MACROBLOCK=[?B,!OUT]{?B->!OUT};_SF_PLOT_KEY_CfMdgYTAIAA_4_4=id(report=1);_SF_PLOT_KEY_CfMdgYTAIAA_4_4_MACROBLOCK=[?A,?B,!OUT]{?A - ?B->!OUT};find(query='(sf_metric:counter.kafka\\\\\\\\-bytes\\\\\\\\-in AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1) -> split -> _SF_PLOT_KEY_CfMdgYTAIAA_1_4;find(query='(sf_metric:counter.kafka\\\\\\\\-bytes\\\\\\\\-in AND _missing_:sf_programId)') -> fetch(extrapolation='NULL_EXTRAPOLATION',maxExtrapolations=-1) -> groupby() -> _SF_PLOT_KEY_CfMdgYTAIAA_2_4_TEMP_VAR_0_INPUT=id;_SF_PLOT_KEY_CfMdgYTAIAA_2_4_TEMP_VAR_0_INPUT->stats:!stddev->_SF_PLOT_KEY_CfMdgYTAIAA_2_4_TEMP_VAR_0_STDDEV=id;_SF_PLOT_KEY_CfMdgYTAIAA_2_4_TEMP_VAR_0_INPUT->stats:!mean->_SF_PLOT_KEY_CfMdgYTAIAA_2_4_TEMP_VAR_0_MEAN=id;_SF_PLOT_KEY_CfMdgYTAIAA_2_4_TEMP_VAR_0_SUM=math;_SF_PLOT_KEY_CfMdgYTAIAA_2_4_TEMP_VAR_0_STDDEVPROD= math(b=3);_SF_PLOT_KEY_CfMdgYTAIAA_2_4_TEMP_VAR_0_STDDEV->?a:_SF_PLOT_KEY_CfMdgYTAIAA_2_4_TEMP_VAR_0_STDDEVPROD;_SF_PLOT_KEY_CfMdgYTAIAA_2_4_TEMP_VAR_0_STDDEVPROD:!product->?a:_SF_PLOT_KEY_CfMdgYTAIAA_2_4_TEMP_VAR_0_SUM;_SF_PLOT_KEY_CfMdgYTAIAA_2_4_TEMP_VAR_0_MEAN->?b:_SF_PLOT_KEY_CfMdgYTAIAA_2_4_TEMP_VAR_0_SUM;_SF_PLOT_KEY_CfMdgYTAIAA_2_4_TEMP_VAR_0_SUM:!sum -> _SF_PLOT_KEY_CfMdgYTAIAA_2_4;_SF_PLOT_KEY_CfMdgYTAIAA_3_4_MACROBLOCK:!OUT->window(1h)->stats:!max->_SF_PLOT_KEY_CfMdgYTAIAA_3_4->publish(metric='_SF_PLOT_KEY_CfMdgYTAIAA_3_4',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='CfMdgYTAIAA_4');_SF_PLOT_KEY_CfMdgYTAIAA_2_4->?B:_SF_PLOT_KEY_CfMdgYTAIAA_3_4_MACROBLOCK;_SF_PLOT_KEY_CfMdgYTAIAA_4_4_MACROBLOCK:!OUT->_SF_PLOT_KEY_CfMdgYTAIAA_4_4->publish(metric='_SF_PLOT_KEY_CfMdgYTAIAA_4_4',sf_uiAnalyticsDerivedMetric=1,sf_uiHelper='CfMdgYTAIAA_4');_SF_PLOT_KEY_CfMdgYTAIAA_1_4->?A:_SF_PLOT_KEY_CfMdgYTAIAA_4_4_MACROBLOCK;_SF_PLOT_KEY_CfMdgYTAIAA_2_4->?B:_SF_PLOT_KEY_CfMdgYTAIAA_4_4_MACROBLOCK;_SF_PLOT_KEY_CfMdgYTAIAA_6_4=threshold(eventType='_SF_PLOT_KEY_CfMdgYTAIAA_6_4', defaultSource='_SF_PLOT_KEY_CfMdgYTAIAA_4_4', high=0, duration=60000, fractionOfDuration=1);_SF_PLOT_KEY_CfMdgYTAIAA_4_4 -> _SF_PLOT_KEY_CfMdgYTAIAA_6_4\",\"jobResolution\":1000}]}",
  "sf_detectorParameters" : "{\"Plot_C_Filters\":{\"name\":\"Plot_C_Filters\",\"description\":\"\",\"uniqueKey\":3,\"type\":\"Filters\"},\"Plot_D_Filters\":{\"name\":\"Plot_D_Filters\",\"description\":\"\",\"uniqueKey\":4,\"type\":\"Filters\"},\"Plot_A_Filters\":{\"name\":\"Plot_A_Filters\",\"description\":\"\",\"uniqueKey\":1,\"type\":\"Filters\"},\"Plot_B_Filters\":{\"name\":\"Plot_B_Filters\",\"description\":\"\",\"uniqueKey\":2,\"type\":\"Filters\"},\"Rule_1_Notifications\":{\"name\":\"Rule_1_Notifications\",\"description\":\"\",\"uniqueKey\":6,\"type\":\"RuleNotifications\"}}",
  "marshallId" : 1
} ]