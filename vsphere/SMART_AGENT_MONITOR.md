
<!--- Generated by to-integrations-repo script in Smart Agent repo, DO NOT MODIFY HERE --->

### INSTALLATION

This integration is part of the [SignalFx Smart Agent](https://github.com/signalfx/integrations/tree/master/signalfx-agent)[](sfx_link:signalfx-agent)
as the `vsphere` monitor. You should first deploy the Smart Agent to the
same host as the service you want to monitor, and then continue with the
configuration instructions below.

<!--- GENERATED BY (This comment exists for maintaining compatibility with to-product-docs) --->

## Description

**This integration primarily consists of the Smart Agent monitor `vsphere`.
Below is an overview of that monitor.**

### Smart Agent Monitor


A VMware vSphere deployment includes physical hosts, ESXi hypervisors, virtual machines, and a vCenter Server.

To report metrics for a vSphere deployment, this monitor logs into a vCenter Server 
and retrieves data about the deployment and its real-time performance data on a regular interval.

When the monitor first runs, it logs into the vCenter Server and traverses the inventory, gathering and caching all of
the hosts and virtual machines, and their available metrics.

After this initial sweep, the monitor will query the vCenter for performance data and metrics. 
This query takes place every 20 seconds, which is the interval at which the vCenter makes real-time performance data available.
As a result, regardless of the `intervalSeconds` value in the agent config, this monitor will run every 20 seconds.

The monitor also refreshes, at a configurable interval, the cache of hosts, virtual machines, and metrics. 
By default, this refresh takes place every 60 seconds; however, this interval can be changed by updating the configuration field
`InventoryRefreshInterval`.

Compatibility:
This monitor uses VMware's govmomi SDK, which officially supports vCenter 6.0, 6.5 and 6.7.
While this monitor may work with vCenter 5.5 and 5.1, these versions are not officially supported.

Sample YAML configuration:
```yaml
monitors:
  - type: vsphere
    host: "172.16.248.140"
    username: "administrator@vsphere.local"
    password: "S3cr3t"
    insecureSkipVerify: true
```


## Configuration

To activate this monitor in the Smart Agent, add the following to your
agent config:

```
monitors:  # All monitor config goes under this key
 - type: vsphere
   ...  # Additional config
```

**For a list of monitor options that are common to all monitors, see [Common
Configuration](https://github.com/signalfx/signalfx-agent/tree/master/docs/monitors/../monitor-config.md#common-configuration).**


| Config option | Required | Type | Description |
| --- | --- | --- | --- |
| `host` | no | `string` |  |
| `port` | no | `integer` |  (**default:** `0`) |
| `username` | no | `string` | The vSphere username |
| `password` | no | `string` | The vSphere password |
| `insecureSkipVerify` | no | `bool` | Whether we verify the server's certificate chain and host name (**default:** `false`) |
| `inventoryRefreshInterval` | no | `integer` | How often to reload the inventory and inventory metrics (**default:** `60s`) |
| `tlsCACertPath` | no | `string` | Path to the ca file |
| `tlsClientCertificatePath` | no | `string` | Configure client certs. Both tlsClientKeyPath and tlsClientCertificatePath must be present. The files must contain PEM encoded data. Path to the client certificate |
| `tlsClientKeyPath` | no | `string` | Path to the keyfile |


## Metrics

Metrics that are categorized as
[container/host](https://docs.signalfx.com/en/latest/admin-guide/usage.html#about-custom-bundled-and-high-resolution-metrics)
(*default*) are ***in bold and italics*** in the list below.

These are the metrics available for this integration.

#### Group cpu
All of the following metrics are part of the `cpu` metric group. All of
the non-default metrics below can be turned on by adding `cpu` to the
monitor config option `extraGroups`:
 - `vsphere.cpu_core_utilization_percent` (*gauge*)<br>    CPU utilization of the corresponding core as a percentage during the interval.
 - `vsphere.cpu_costop_ms` (*counter*)<br>    Time the virtual machine is ready to run, but is unable to run due to co-scheduling constraints.
 - `vsphere.cpu_demand_entitlement_ratio_percent` (*gauge*)<br>    CPU resource entitlement to CPU demand ratio.
 - `vsphere.cpu_demand_mhz` (*counter*)<br>    The amount of CPU resources a virtual machine would use if there were no CPU contention or CPU limit.
 - `vsphere.cpu_entitlement_mhz` (*gauge*)<br>    CPU resources devoted by the ESXi scheduler.
 - `vsphere.cpu_idle_ms` (*counter*)<br>    Total time that the CPU spent in an idle state.
 - `vsphere.cpu_latency_percent` (*gauge*)<br>    Percent of time the virtual machine is unable to run because it is contending for access to the physical CPU(s).
 - `vsphere.cpu_maxlimited_ms` (*counter*)<br>    Time the virtual machine is ready to run, but is not running because it has reached its maximum CPU limit setting.
 - `vsphere.cpu_overlap_ms` (*counter*)<br>    Time the virtual machine was interrupted to perform system services on behalf of itself or other virtual machines.
 - `vsphere.cpu_readiness_percent` (*gauge*)<br>    Percentage of time that the virtual machine was ready, but could not get scheduled to run on the physical CPU.
 - `vsphere.cpu_ready_ms` (*counter*)<br>    Time that the virtual machine was ready, but could not get scheduled to run on the physical CPU during last measurement interval. CPU ready time is dependent on the number of virtual machines on the host and their CPU loads.
 - `vsphere.cpu_reservedCapacity_mhz` (*gauge*)<br>    Total CPU capacity reserved by virtual machines.
 - `vsphere.cpu_run_ms` (*counter*)<br>    Time the virtual machine is scheduled to run
 - `vsphere.cpu_swapwait_ms` (*gauge*)<br>    CPU time spent waiting for swap-in.
 - `vsphere.cpu_system_ms` (*counter*)<br>    Amount of time spent on system processes on each virtual CPU in the virtual machine.
 - `vsphere.cpu_totalCapacity_mhz` (*gauge*)<br>    Total CPU capacity reserved by and available for virtual machines
 - ***`vsphere.cpu_usage_percent`*** (*gauge*)<br>    CPU usage as a percentage during the interval.
 - `vsphere.cpu_usagemhz` (*gauge*)<br>    CPU usage, as measured in megahertz, during the interval.
 - `vsphere.cpu_used_percent` (*counter*)<br>    Time accounted to the virtual machine.
 - `vsphere.cpu_utilization_percent` (*gauge*)<br>    CPU utilization as a percentage during the interval. CPU usage and CPU utilization might be different due to power management technologies or hyper-threading.
 - `vsphere.cpu_wait_ms` (*counter*)<br>    Total CPU time spent in wait state. The wait total includes time spent the CPU Idle, CPU Swap Wait, and CPU I/O Wait states.

#### Group datastore
All of the following metrics are part of the `datastore` metric group. All of
the non-default metrics below can be turned on by adding `datastore` to the
monitor config option `extraGroups`:
 - `vsphere.datastore_datastore_iops` (*gauge*)<br>    Average amount of time for an I/O operation to the datastore or LUN across all ESX hosts accessing it.
 - `vsphere.datastore_max_total_latency_ms` (*gauge*)<br>    Highest latency value across all datastores used by the host.
 - `vsphere.datastore_read_kbs` (*gauge*)<br>    Rate of reading data from the datastore (kilobytes per second)
 - `vsphere.datastore_read_load_metric` (*gauge*)<br>    Storage DRS datastore metric for read workload model.
 - `vsphere.datastore_size_normalized_datastore_latency_ms` (*gauge*)<br>    Storage I/O Control size-normalized I/O latency.
 - `vsphere.datastore_total_read_latency_ms` (*gauge*)<br>    Average amount of time for a read operation from the vsphere datastore. Total latency = kernel latency + device latency.
 - `vsphere.datastore_total_write_latency_ms` (*gauge*)<br>    Average amount of time for a write operation to the vsphere datastore. Total latency = kernel latency + device latency.
 - `vsphere.datastore_vmobserved_latency_ms` (*gauge*)<br>    The average datastore latency as seen by virtual machines.
 - `vsphere.datastore_write_kbs` (*gauge*)<br>    Rate of writing data to the datastore.
 - `vsphere.datastore_write_load_metric` (*gauge*)<br>    Storage DRS datastore metric for write workload model.

#### Group disk
All of the following metrics are part of the `disk` metric group. All of
the non-default metrics below can be turned on by adding `disk` to the
monitor config option `extraGroups`:
 - `vsphere.disk_bus_resets` (*counter*)<br>    Number of SCSI-bus reset commands issued during the collection interval.
 - `vsphere.disk_commands` (*counter*)<br>    Number of SCSI commands issued during the collection interval.
 - `vsphere.disk_commands_aborted` (*counter*)<br>    Number of SCSI commands aborted during the collection interval.
 - `vsphere.disk_commands_averaged` (*gauge*)<br>    Average number of SCSI commands issued per second during the collection interval.
 - `vsphere.disk_device_latency_ms` (*gauge*)<br>    Average amount of time, in milliseconds, to complete a SCSI command from the physical device.
 - `vsphere.disk_device_read_latency_ms` (*gauge*)<br>    Average amount of time, in milliseconds, to read from the physical device.
 - `vsphere.disk_device_write_latency_ms` (*gauge*)<br>    Average amount of time, in milliseconds, to write to the physical device.
 - `vsphere.disk_kernel_latency_ms` (*gauge*)<br>    Average amount of time, in milliseconds, spent by VMkernel to process each SCSI command.
 - `vsphere.disk_kernel_read_latency_ms` (*gauge*)<br>    Average amount of time, in milliseconds, spent by VMkernel to process each SCSI read command.
 - `vsphere.disk_kernel_write_latency_ms` (*gauge*)<br>    Average amount of time, in milliseconds, spent by VMkernel to process each SCSI write command.
 - ***`vsphere.disk_max_queue_depth`*** (*gauge*)<br>    Maximum queue depth.
 - ***`vsphere.disk_max_total_latency_ms`*** (*gauge*)<br>    Highest latency value across all disks used by the host.
 - `vsphere.disk_number_read` (*counter*)<br>    Number of disk reads during the collection interval.
 - `vsphere.disk_number_read_averaged` (*gauge*)<br>    Average number of read commands issued per second to the datastore during the collection interval.
 - `vsphere.disk_number_write` (*counter*)<br>    Number of disk writes during the collection interval.
 - `vsphere.disk_number_write_averaged` (*gauge*)<br>    Average number of write commands issued per second to the datastore during the collection interval.
 - `vsphere.disk_queue_latency_ms` (*gauge*)<br>    Average amount of time spent in the VMkernel queue, per SCSI command, during the collection interval.
 - `vsphere.disk_queue_read_latency_ms` (*gauge*)<br>    Average amount of time spent in the VMkernel queue, per SCSI read command, during the collection interval.
 - `vsphere.disk_queue_write_latency_ms` (*gauge*)<br>    Average amount of time spent in the VMkernel queue, per SCSI write command, during the collection interval.
 - ***`vsphere.disk_read_kbs`*** (*gauge*)<br>    Average number of kilobytes read from the disk each second during the collection interval.
 - `vsphere.disk_total_latency_ms` (*gauge*)<br>    Average amount of time taken during the collection interval to process a SCSI command issued by the guest OS to the virtual machine.
 - `vsphere.disk_total_read_latency_ms` (*gauge*)<br>    Average amount of time taken during the collection interval to process a SCSI read command issued from the guest OS to the virtual machine.
 - `vsphere.disk_total_write_latency_ms` (*gauge*)<br>    Average amount of time taken during the collection interval to process a SCSI write command issued by the guest OS to the virtual machine.
 - ***`vsphere.disk_usage_kbs`*** (*gauge*)<br>    Aggregated disk I/O rate.
 - ***`vsphere.disk_write_kbs`*** (*gauge*)<br>    Average number of kilobytes written to disk each second during the collection interval.

#### Group hbr
All of the following metrics are part of the `hbr` metric group. All of
the non-default metrics below can be turned on by adding `hbr` to the
monitor config option `extraGroups`:
 - `vsphere.hbr_net_rx_kbs` (*gauge*)<br>    Kilobytes per second of outgoing host-based replication network traffic (for this virtual machine or host).
 - `vsphere.hbr_net_tx_kbs` (*gauge*)<br>    Average amount of data transmitted per second.
 - `vsphere.hbr_num_vms` (*gauge*)<br>    Number of powered-on virtual machines running on this host that currently have host-based replication protection enabled.

#### Group mem
All of the following metrics are part of the `mem` metric group. All of
the non-default metrics below can be turned on by adding `mem` to the
monitor config option `extraGroups`:
 - `vsphere.mem_active_kb` (*gauge*)<br>    Amount of memory that is actively used, as estimated by VMkernel based on recently touched memory pages.
 - `vsphere.mem_activewrite_kb` (*gauge*)<br>    Estimate for the amount of memory actively being written to by the virtual machine.
 - `vsphere.mem_compressed_kb` (*gauge*)<br>    Amount of memory reserved by userworlds.
 - `vsphere.mem_compression_rate_kbs` (*gauge*)<br>    Rate of memory compression for the virtual machine.
 - `vsphere.mem_consumed_kb` (*gauge*)<br>    Amount of host physical memory consumed by a virtual machine, host, or cluster.
 - `vsphere.mem_decompression_rate_kbs` (*gauge*)<br>    Rate of memory decompression for the virtual machine.
 - `vsphere.mem_entitlement_kb` (*gauge*)<br>    Amount of host physical memory the virtual machine is entitled to, as determined by the ESX scheduler.
 - `vsphere.mem_granted_kb` (*gauge*)<br>    Amount of host physical memory or physical memory that is mapped for a virtual machine or a host.
 - `vsphere.mem_heap_kb` (*gauge*)<br>    VMkernel virtual address space dedicated to VMkernel main heap and related data.
 - `vsphere.mem_heapfree_kb` (*gauge*)<br>    Free address space in the VMkernel main heap.Varies based on number of physical devices and configuration options.
 - `vsphere.mem_latency_percent` (*gauge*)<br>    Percentage of time the virtual machine is waiting to access swapped or compressed memory.
 - `vsphere.mem_ll_swap_in_kb` (*gauge*)<br>    Amount of memory swapped-in from host cache.
 - `vsphere.mem_ll_swap_in_rate_kbs` (*gauge*)<br>    Rate at which memory is being swapped from host cache into active memory.
 - `vsphere.mem_ll_swap_out_kb` (*gauge*)<br>    Amount of memory swapped-out to host cache.
 - `vsphere.mem_ll_swap_out_rate_kbs` (*gauge*)<br>    Rate at which memory is being swapped from active memory to host cache.
 - `vsphere.mem_ll_swap_used_kb` (*gauge*)<br>    Space used for caching swapped pages in the host cache.
 - `vsphere.mem_lowfreethreshold_kb` (*gauge*)<br>    Threshold of free host physical memory below which ESX/ESXi will begin reclaiming memory from virtual machines through ballooning and swapping.
 - `vsphere.mem_overhead_kb` (*gauge*)<br>    Host physical memory (KB) consumed by the virtualization infrastructure for running the virtual machine.
 - `vsphere.mem_overhead_max_kb` (*gauge*)<br>    Host physical memory (KB) reserved for use as the virtualization overhead for the virtual machine.
 - `vsphere.mem_overhead_touched_kb` (*gauge*)<br>    Actively touched overhead host physical memory (KB) reserved for use as the virtualization overhead for the virtual machine.
 - `vsphere.mem_reserved_capacity_mb` (*gauge*)<br>    Total amount of memory reservation used by powered-on virtual machines and vSphere services on the host.
 - `vsphere.mem_shared_kb` (*gauge*)<br>    Amount of guest physical memory that is shared with other virtual machines, relative to a single virtual machine or to all powered-on virtual machines on a host.
 - `vsphere.mem_sharedcommon_kb` (*gauge*)<br>    Amount of machine memory that is shared by all powered-on virtual machines and vSphere services on the host.Subtract this metric from the shared metric to gauge how much machine memory is saved due to sharing -- shared - sharedcommon = machine memory (host memory) savings (KB).
 - `vsphere.mem_state` (*gauge*)<br>    One of four threshold levels representing the percentage of free memory on the host. The counter value determines swapping and ballooning behavior for memory reclamation.
 - `vsphere.mem_swapin_kb` (*gauge*)<br>    Amount swapped-in to memory from disk.
 - ***`vsphere.mem_swapin_rate_kbs`*** (*gauge*)<br>    Rate at which memory is swapped from disk into active memory during the interval.
 - `vsphere.mem_swapout_kb` (*gauge*)<br>    Amount of memory swapped-out to disk.
 - ***`vsphere.mem_swapout_rate_kbs`*** (*gauge*)<br>    Rate at which memory is being swapped from active memory to disk during the current interval.
 - `vsphere.mem_swapped_kb` (*gauge*)<br>    Current amount of guest physical memory swapped out to the virtual machine swap file by the VMkernel.
 - `vsphere.mem_swaptarget_kb` (*gauge*)<br>    Target size for the virtual machine swap file.
 - `vsphere.mem_swapused_kb` (*gauge*)<br>    Amount of memory that is used by swap.
 - `vsphere.mem_sys_usage_kb` (*gauge*)<br>    Amount of host physical memory used by VMkernel for core functionality, such as device drivers and other internal uses.
 - `vsphere.mem_total_capacity_mb` (*gauge*)<br>    Total amount of memory reservation used by and available for powered-on virtual machines and vSphere services on the host.
 - `vsphere.mem_unreserved_kb` (*gauge*)<br>    Amount of memory that is unreserved.
 - ***`vsphere.mem_usage_percent`*** (*gauge*)<br>    Percentage of host physical memory that has been consumed.
 - `vsphere.mem_vmfs_pbc_cap_miss_ratio_percent` (*gauge*)<br>    Trailing average of the ratio of capacity misses to compulsory misses for the VMFS PB Cache.
 - `vsphere.mem_vmfs_pbc_overhead_kb` (*gauge*)<br>    Amount of VMFS heap used by the VMFS PB Cache.
 - `vsphere.mem_vmfs_pbc_size_max_mb` (*gauge*)<br>    Maximum size the VMFS Pointer Block Cache can grow to.
 - `vsphere.mem_vmfs_pbc_size_mb` (*gauge*)<br>    Space used for holding VMFS Pointer Blocks in memory.
 - `vsphere.mem_vmfs_pbc_working_set_max_tb` (*gauge*)<br>    Maximum amount of file blocks whose addresses are cached in the VMFS PB Cache.
 - `vsphere.mem_vmfs_pbc_working_set_tb` (*gauge*)<br>    Amount of file blocks whose addresses are cached in the VMFS PB Cache.
 - `vsphere.mem_vmmemctl_kb` (*gauge*)<br>    Amount of memory allocated by the virtual machine memory control driver.
 - `vsphere.mem_vmmemctltarget_kb` (*gauge*)<br>    Target value set by VMkernal for the virtual machine's memory balloon size.
 - `vsphere.mem_zero_kb` (*gauge*)<br>    Memory that contains 0s only.
 - `vsphere.mem_zip_saved_kb` (*gauge*)<br>    Memory (KB) saved due to memory zipping.
 - `vsphere.mem_zipped_kb` (*gauge*)<br>    Memory (KB) zipped.

#### Group net
All of the following metrics are part of the `net` metric group. All of
the non-default metrics below can be turned on by adding `net` to the
monitor config option `extraGroups`:
 - `vsphere.net_broadcast_rx` (*counter*)<br>    Number of broadcast packets received during the sampling interval.
 - `vsphere.net_broadcast_tx` (*counter*)<br>    Number of broadcast packets transmitted during the sampling interval.
 - `vsphere.net_bytes_rx_kbs` (*gauge*)<br>    Average amount of data received per second.
 - `vsphere.net_bytes_tx_kbs` (*gauge*)<br>    Average amount of data transmitted per second.
 - `vsphere.net_dropped_rx` (*counter*)<br>    Number of received packets dropped during the collection interval.
 - `vsphere.net_dropped_tx` (*counter*)<br>    Number of transmitted packets dropped during the collection interval.
 - `vsphere.net_errors_rx` (*counter*)<br>    Number of packets with errors received during the sampling interval.
 - `vsphere.net_errors_tx` (*counter*)<br>    Number of packets with errors transmitted during the sampling interval.
 - `vsphere.net_multicast_rx` (*counter*)<br>    Number of multicast packets received during the sampling interval.
 - `vsphere.net_multicast_tx` (*counter*)<br>    Number of multicast packets transmitted during the sampling interval.
 - `vsphere.net_packets_rx` (*counter*)<br>    Number of packets received during the interval.
 - `vsphere.net_packets_tx` (*counter*)<br>    Number of packets transmitted during the interval.
 - ***`vsphere.net_received_kbs`*** (*gauge*)<br>    Average rate at which data was received during the interval.
 - ***`vsphere.net_transmitted_kbs`*** (*gauge*)<br>    Average rate at which data was transmitted during the interval. This represents the bandwidth of the network.
 - `vsphere.net_unknown_protos` (*counter*)<br>    Number of frames with unknown protocol received during the sampling interval
 - ***`vsphere.net_usage_kbs`*** (*gauge*)<br>    Network utilization (combined transmit- and receive-rates) during the interval.

#### Group power
All of the following metrics are part of the `power` metric group. All of
the non-default metrics below can be turned on by adding `power` to the
monitor config option `extraGroups`:
 - `vsphere.power_cap_watts` (*gauge*)<br>    Maximum allowed power usage.
 - `vsphere.power_energy_joules` (*counter*)<br>    Total energy used since last stats reset.
 - `vsphere.power_watts` (*gauge*)<br>    Current power usage.

#### Group rescpu
All of the following metrics are part of the `rescpu` metric group. All of
the non-default metrics below can be turned on by adding `rescpu` to the
monitor config option `extraGroups`:
 - `vsphere.rescpu_actav1` (*gauge*)<br>    CPU active average over 1 minute.
 - `vsphere.rescpu_actav15_percent` (*gauge*)<br>    CPU active average over 15 minutes.
 - `vsphere.rescpu_actav5_percent` (*gauge*)<br>    CPU active average over 5 minutes.
 - `vsphere.rescpu_actpk15_percent` (*gauge*)<br>    CPU active peak over 15 minutes.
 - `vsphere.rescpu_actpk1_percent` (*gauge*)<br>    CPU active peak over 1 minute.
 - `vsphere.rescpu_actpk5_percent` (*gauge*)<br>    CPU active peak over 5 minutes.
 - `vsphere.rescpu_max_limited15_percent` (*gauge*)<br>    Amount of CPU resources over the limit that were refused, average over 15 minutes.
 - `vsphere.rescpu_max_limited1_percent` (*gauge*)<br>    Amount of CPU resources over the limit that were refused, average over 1 minute.
 - `vsphere.rescpu_max_limited5_percent` (*gauge*)<br>    Amount of CPU resources over the limit that were refused, average over 5 minutes.
 - `vsphere.rescpu_runav15_percent` (*gauge*)<br>    CPU running average over 15 minutes.
 - `vsphere.rescpu_runav1_percent` (*gauge*)<br>    CPU running average over 1 minute.
 - `vsphere.rescpu_runav5_percent` (*gauge*)<br>    CPU running average over 5 minutes.
 - `vsphere.rescpu_runpk15_percent` (*gauge*)<br>    CPU running peak over 15 minutes.
 - `vsphere.rescpu_runpk1_percent` (*gauge*)<br>    CPU running peak over 1 minute.
 - `vsphere.rescpu_runpk5_percent` (*gauge*)<br>    CPU running peak over 5 minutes.
 - `vsphere.rescpu_sample_count` (*gauge*)<br>    Group CPU sample count.
 - `vsphere.rescpu_sample_period_ms` (*gauge*)<br>    Group CPU sample period.

#### Group storage_adapter
All of the following metrics are part of the `storage_adapter` metric group. All of
the non-default metrics below can be turned on by adding `storage_adapter` to the
monitor config option `extraGroups`:
 - `vsphere.storage_adapter_commands_averaged` (*gauge*)<br>    Average number of commands issued per second by the storage adapter during the collection interval.
 - `vsphere.storage_adapter_max_total_latency_ms` (*gauge*)<br>    Highest latency value across all storage adapters used by the host.
 - `vsphere.storage_adapter_number_read_averaged` (*gauge*)<br>    Average number of read commands issued per second by the storage adapter during the collection interval.
 - `vsphere.storage_adapter_number_write_averaged` (*gauge*)<br>    Average number of write commands issued per second by the storage adapter during the collection interval.
 - `vsphere.storage_adapter_read_kbs` (*gauge*)<br>    Rate of reading data by the storage adapter.
 - `vsphere.storage_adapter_total_read_latency_ms` (*gauge*)<br>    Average amount of time for a read operation by the storage adapter. Total latency = kernel latency + device latency.
 - `vsphere.storage_adapter_total_write_latency_ms` (*gauge*)<br>    Average amount of time for a write operation by the storage adapter. Total latency = kernel latency + device latency.
 - `vsphere.storage_adapter_write_kbs` (*gauge*)<br>    Rate of writing data by the storage adapter.

#### Group storage_path
All of the following metrics are part of the `storage_path` metric group. All of
the non-default metrics below can be turned on by adding `storage_path` to the
monitor config option `extraGroups`:
 - `vsphere.storage_path_commands_averaged` (*gauge*)<br>    Average number of commands issued per second on the storage path during the collection interval.
 - `vsphere.storage_path_max_total_latency_ms` (*gauge*)<br>    Highest latency value across all storage paths used by the host.
 - `vsphere.storage_path_number_read_averaged` (*gauge*)<br>    Average number of read commands issued per second on the storage path during the collection interval.
 - `vsphere.storage_path_number_write_averaged` (*gauge*)<br>    Average number of write commands issued per second on the storage path during the collection interval.
 - `vsphere.storage_path_read_kbs` (*gauge*)<br>    Rate of reading data on the storage path.
 - `vsphere.storage_path_total_read_latency_ms` (*gauge*)<br>    The average time a read issued on the storage path takes.
 - `vsphere.storage_path_total_write_latency_ms` (*gauge*)<br>    Average amount of time for a write issued on the storage path. Total latency = kernel latency + device latency.
 - `vsphere.storage_path_write_kbs` (*gauge*)<br>    Rate of writing data on the storage path.

#### Group sys
All of the following metrics are part of the `sys` metric group. All of
the non-default metrics below can be turned on by adding `sys` to the
monitor config option `extraGroups`:
 - `vsphere.sys_heartbeat` (*counter*)<br>    Number of heartbeats issued per virtual machine during the interval.
 - `vsphere.sys_os_uptime_seconds` (*gauge*)<br>    Total time elapsed, in seconds, since last operating system boot-up.
 - `vsphere.sys_resource_cpu_act1_percent` (*gauge*)<br>    CPU active average over 1 minute of the system resource group.
 - `vsphere.sys_resource_cpu_act5` (*gauge*)<br>    CPU active average over 5 minutes of the system resource group.
 - `vsphere.sys_resource_cpu_alloc_min_mhz` (*gauge*)<br>    CPU allocation reservation (in MHz) of the system resource group.
 - `vsphere.sys_resource_cpu_alloc_shares` (*gauge*)<br>    CPU allocation shares of the system resource group.
 - `vsphere.sys_resource_cpu_max_limited1_percent` (*gauge*)<br>    CPU maximum limited over 1 minute of the system resource group.
 - `vsphere.sys_resource_cpu_max_limited5_percent` (*gauge*)<br>    CPU maximum limited over 5 minutes of the system resource group.
 - `vsphere.sys_resource_cpu_run1_percent` (*gauge*)<br>    CPU running average over 1 minute of the system resource group.
 - `vsphere.sys_resource_cpu_run5_percent` (*gauge*)<br>    CPU running average over 5 minutes of the system resource group.
 - `vsphere.sys_resource_cpu_usage_mhz` (*gauge*)<br>    Amount of CPU used by the Service Console and other applications during the interval by the Service Console and other applications.
 - `vsphere.sys_resource_fd_usage` (*gauge*)<br>    Number of file descriptors used by the system resource group.
 - `vsphere.sys_resource_mem_alloc_max_kb` (*gauge*)<br>    Memory allocation limit (in KB) of the system resource group.
 - `vsphere.sys_resource_mem_alloc_min_kb` (*gauge*)<br>    Memory allocation reservation (in KB) of the system resource group.
 - `vsphere.sys_resource_mem_alloc_shares` (*gauge*)<br>    Memory allocation shares of the system resource group.
 - `vsphere.sys_resource_mem_consumed_kb` (*gauge*)<br>    Memory consumed by the system resource group.
 - `vsphere.sys_resource_mem_cow_kb` (*gauge*)<br>    Memory shared by the system resource group.
 - `vsphere.sys_resource_mem_mapped_kb` (*gauge*)<br>    Memory mapped by the system resource group.
 - `vsphere.sys_resource_mem_overhead_kb` (*gauge*)<br>    Overhead memory consumed by the system resource group.
 - `vsphere.sys_resource_mem_shared_kb` (*gauge*)<br>    Memory saved due to sharing by the system resource group.
 - `vsphere.sys_resource_mem_swapped_kb` (*gauge*)<br>    Memory swapped out by the system resource group.
 - `vsphere.sys_resource_mem_touched_kb` (*gauge*)<br>    Memory touched by the system resource group.
 - `vsphere.sys_resource_mem_zero_kb` (*gauge*)<br>    Zero filled memory used by the system resource group.
 - `vsphere.sys_uptime_seconds` (*gauge*)<br>    Total time elapsed, in seconds, since last system startup.

#### Group virtual_disk
All of the following metrics are part of the `virtual_disk` metric group. All of
the non-default metrics below can be turned on by adding `virtual_disk` to the
monitor config option `extraGroups`:
 - `vsphere.virtual_disk_large_seeks` (*gauge*)<br>    Number of seeks during the interval that were greater than 8192 LBNs apart.
 - `vsphere.virtual_disk_medium_seeks` (*gauge*)<br>    Number of seeks during the interval that were between 64 and 8192 LBNs apart.
 - `vsphere.virtual_disk_number_read_averaged` (*gauge*)<br>    Average number of read commands issued per second to the virtual disk during the collection interval.
 - `vsphere.virtual_disk_number_write_averaged` (*gauge*)<br>    Average number of write commands issued per second to the virtual disk during the collection interval.
 - `vsphere.virtual_disk_read_iosize` (*gauge*)<br>    Average read request size in bytes.
 - ***`vsphere.virtual_disk_read_kbs`*** (*gauge*)<br>    Rate of reading data from the virtual disk.
 - `vsphere.virtual_disk_read_latency_us` (*gauge*)<br>    Read latency in microseconds.
 - `vsphere.virtual_disk_read_load_metric` (*gauge*)<br>    Storage DRS virtual disk metric for the read workload model.
 - `vsphere.virtual_disk_read_oio` (*gauge*)<br>    Average number of outstanding read requests to the virtual disk during the collection interval.
 - `vsphere.virtual_disk_small_seeks` (*gauge*)<br>    Number of seeks during the interval that were less than 64 LBNs apart.
 - `vsphere.virtual_disk_total_read_latency_ms` (*gauge*)<br>    Average amount of time for a read operation from the virtual disk. Total latency = kernel latency + device latency.
 - `vsphere.virtual_disk_total_write_latency_ms` (*gauge*)<br>    The average time a write to the virtual disk takes.
 - `vsphere.virtual_disk_write_iosize` (*gauge*)<br>    Average write request size in bytes.
 - ***`vsphere.virtual_disk_write_kbs`*** (*gauge*)<br>    Rate of writing data to the virtual disk.
 - `vsphere.virtual_disk_write_latency_us` (*gauge*)<br>    Write latency in microseconds.
 - `vsphere.virtual_disk_write_load_metric` (*gauge*)<br>    Storage DRS virtual disk metric for the write workload model.
 - `vsphere.virtual_disk_write_oio` (*gauge*)<br>    Average number of outstanding write requests to the virtual disk during the collection interval.

### Non-default metrics (version 4.7.0+)

**The following information applies to the agent version 4.7.0+ that has
`enableBuiltInFiltering: true` set on the top level of the agent config.**

To emit metrics that are not _default_, you can add those metrics in the
generic monitor-level `extraMetrics` config option.  Metrics that are derived
from specific configuration options that do not appear in the above list of
metrics do not need to be added to `extraMetrics`.

To see a list of metrics that will be emitted you can run `agent-status
monitors` after configuring this monitor in a running agent instance.

### Legacy non-default metrics (version < 4.7.0)

**The following information only applies to agent version older than 4.7.0. If
you have a newer agent and have set `enableBuiltInFiltering: true` at the top
level of your agent config, see the section above. See upgrade instructions in
[Old-style whitelist filtering](https://github.com/signalfx/signalfx-agent/tree/master/docs/monitors/../legacy-filtering.md#old-style-whitelist-filtering).**

If you have a reference to the `whitelist.json` in your agent's top-level
`metricsToExclude` config option, and you want to emit metrics that are not in
that whitelist, then you need to add an item to the top-level
`metricsToInclude` config option to override that whitelist (see [Inclusion
filtering](https://github.com/signalfx/signalfx-agent/tree/master/docs/monitors/../legacy-filtering.md#inclusion-filtering).  Or you can just
copy the whitelist.json, modify it, and reference that in `metricsToExclude`.

## Dimensions

The following dimensions may occur on metrics emitted by the monitors. Some
dimensions may be specific to certain metrics.

#### vsphere monitor

| Name | Description |
| ---  | ---         |
| `cluster` | If the metric's host or virtual machine is attached to a cluster, the name of the cluster. |
| `datacenter` | The name of the datacenter to which the metric pertains. |
| `esx_ip` | The IP address of the ESX host to which the metric pertains. |
| `guest_family` | For virtual machine metrics, the guest operating system family for the virtual machine to which this metric pertains. For example 'linuxGuest'. |
| `guest_fullname` | For virtual machine metrics, the full name of the guest operating system for the virtual machine to which the metric pertains. For example 'Windows 2000 Professional'. |
| `guest_id` | For virtual machine metrics, the guest identifier of the virtual machine to which the metric pertains. |
| `object` | For some metrics, the source of the metric. For example, the identifier of a NIC for a network metric, or the processor number for a CPU metric. |
| `object_type` | The type of the resource to which the metric pertains. Values can be 'VirtualMachine' for a VM, or 'HostSystem' for an ESX host. |
| `ref_id` | The unique vCenter identifier for the resource to which the metric pertains. |
| `vcenter` | The hostname of the vCenter server to which the monitor is connected. |
| `vm_ip` | For virtual machine metrics, the IP address of the virtual machine to which this metric pertains. |
| `vm_name` | For virtual machine metrics, the name of the virtual machine to which the metric pertains. |
