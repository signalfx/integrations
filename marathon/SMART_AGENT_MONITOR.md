
<!--- Generated by to-integrations-repo script in Smart Agent repo, DO NOT MODIFY HERE --->

### INSTALLATION

This integration is part of the [SignalFx Smart Agent](https://github.com/signalfx/integrations/tree/master/signalfx-agent)[](sfx_link:signalfx-agent)
as the `collectd/marathon` monitor. You should first deploy the Smart Agent to the
same host as the service you want to monitor, and then continue with the
configuration instructions below.

<!--- GENERATED BY (This comment exists for maintaining compatibility with to-product-docs) --->

## Description

This integration primarily consists of the Smart Agent monitor `collectd/marathon`.
Below is an overview of that monitor.

### Smart Agent Monitor


Monitors a Mesos Marathon instance using the
[collectd Marathon Python plugin](https://github.com/signalfx/collectd-marathon).

See the [integrations
doc](https://docs.signalfx.com/en/latest/integrations/integrations-reference/integrations.marathon.html)
for more information on configuration.

Sample YAML configuration:

```yaml
monitors:
  - type: collectd/marathon
    host: 127.0.0.1
    port: 8080
    scheme: http
```

Sample YAML configuration for DC/OS:

```yaml
monitors:
  - type: collectd/marathon
    host: 127.0.0.1
    port: 8080
    scheme: https
    dcosAuthURL: https://leader.mesos/acs/api/v1/auth/login
```


## Configuration

To activate this monitor in the Smart Agent, add the following to your
agent config:

```
monitors:  # All monitor config goes under this key
 - type: collectd/marathon
   ...  # Additional config
```

**For a list of monitor options that are common to all monitors, see [Common
Configuration](https://github.com/signalfx/signalfx-agent/tree/master/docs/monitors/../monitor-config.md#common-configuration).**


| Config option | Required | Type | Description |
| --- | --- | --- | --- |
| `pythonBinary` | no | `string` | Path to a python binary that should be used to execute the Python code. If not set, a built-in runtime will be used.  Can include arguments to the binary as well. |
| `host` | **yes** | `string` |  |
| `port` | **yes** | `integer` |  |
| `username` | no | `string` | Username used to authenticate with Marathon. |
| `password` | no | `string` | Password used to authenticate with Marathon. |
| `scheme` | no | `string` | Set to either `http` or `https`. (**default:** `http`) |
| `dcosAuthURL` | no | `string` | The dcos authentication URL which the plugin uses to get authentication tokens from. Set scheme to "https" if operating DC/OS in strict mode and dcosAuthURL to "https://leader.mesos/acs/api/v1/auth/login" (which is the default DNS entry provided by DC/OS) |


## Metrics

All metrics of this integration are emitted by default; however, **none are categorized as
[container/host](https://docs.signalfx.com/en/latest/admin-guide/usage.html#about-custom-bundled-and-high-resolution-metrics)
-- they are all custom**.

These are the metrics available for this integration.

 - ***`gauge.service.mesosphere.marathon.app.cpu.allocated`*** (*gauge*)<br>    Number of CPUs allocated to an application
 - ***`gauge.service.mesosphere.marathon.app.cpu.allocated.per.instance`*** (*gauge*)<br>    Configured number of CPUs allocated to each application instance
 - `gauge.service.mesosphere.marathon.app.delayed` (*gauge*)<br>    Indicates if the application is delayed or not
 - `gauge.service.mesosphere.marathon.app.deployments.total` (*gauge*)<br>    Number of application deployments
 - ***`gauge.service.mesosphere.marathon.app.disk.allocated`*** (*gauge*)<br>    Storage allocated to a Marathon application
 - ***`gauge.service.mesosphere.marathon.app.disk.allocated.per.instance`*** (*gauge*)<br>    Configured storage allocated each to application instance
 - `gauge.service.mesosphere.marathon.app.gpu.allocated` (*gauge*)<br>    GPU Allocated to a Marathon application
 - `gauge.service.mesosphere.marathon.app.gpu.allocated.per.instance` (*gauge*)<br>    Configured number of GPUs allocated to each application instance
 - ***`gauge.service.mesosphere.marathon.app.instances.total`*** (*gauge*)<br>    Number of application instances
 - ***`gauge.service.mesosphere.marathon.app.memory.allocated`*** (*gauge*)<br>    Memory Allocated to a Marathon application
 - ***`gauge.service.mesosphere.marathon.app.memory.allocated.per.instance`*** (*gauge*)<br>    Configured amount of memory allocated to each application instance
 - ***`gauge.service.mesosphere.marathon.app.tasks.running`*** (*gauge*)<br>    Number tasks running for an application
 - ***`gauge.service.mesosphere.marathon.app.tasks.staged`*** (*gauge*)<br>    Number tasks staged for an application
 - ***`gauge.service.mesosphere.marathon.app.tasks.unhealthy`*** (*gauge*)<br>    Number unhealthy tasks for an application
 - ***`gauge.service.mesosphere.marathon.task.healthchecks.failing.total`*** (*gauge*)<br>    The number of failing health checks for a task
 - ***`gauge.service.mesosphere.marathon.task.healthchecks.passing.total`*** (*gauge*)<br>    The number of passing health checks for a task
 - `gauge.service.mesosphere.marathon.task.staged.time.elapsed` (*gauge*)<br>    The amount of time the task spent in staging
 - `gauge.service.mesosphere.marathon.task.start.time.elapsed` (*gauge*)<br>    Time elapsed since the task started

The agent does not do any built-in filtering of metrics coming out of this
monitor.
